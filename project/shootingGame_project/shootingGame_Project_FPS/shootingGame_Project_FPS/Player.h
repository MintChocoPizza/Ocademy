#ifndef __PLAYER_H__
#define __PLAYER_H__


#define MAX_PLAYER_BULLET 30




//---------------------------------------------------------------------------------
// 플레이어 구조체 선언 
// 
// 플레이어 인스턴스 선언. (1인용 이니 하나만 하자)
// 
//---------------------------------------------------------------------------------
struct st_PLAYER
{
	int iHP;				// 플레이어 HP

	char cPlayerSkin;		// 플레이어 모습
	char cBulletSkin;		// 플레이어가 사용할 총알의 모양

	int iDamage;

	int iX;					// 플레이어 좌표
	int iY;					//

	int iPlayerSpeed;		// 몇 프레임에 1칸을 갈지 결정
	int iBulletCoolTime;	// 몇 프레임에 1발을 쏠지 결정

	bool bVisible;			// 플레이어 생존 여부.
};



//---------------------------------------------------------------------------------
// 플레이어의 총알 구조체 선언 
// 
// 
//---------------------------------------------------------------------------------
struct st_BULLET
{
	bool bVisible;


	char cBulletSkin;

	int iY;				// 총알의 좌표
	int iX;
};




//////////////////////////////////////////////////////////////////////
//   플레이어
// 
//////////////////////////////////////////////////////////////////////
//-------------------------------------------------------------------
// 플레이어 최초 데이터 초기화.
// HP : 3 
// 중앙, 아래서 3칸 위치에서 시작 함.
//-------------------------------------------------------------------
void play_Initial_Player(void);

//-------------------------------------------------------------------
// 키보드 입력을 받아서 플레이어를 처리한다.
// 
// 게임중 ESC를 누를 경우 false리턴. (종료 처리)
// 
//-------------------------------------------------------------------
bool play_KeyProcess(void);

//--------------------------------------------------------------------
// 스크린 버퍼에 플레이어 그리기
//--------------------------------------------------------------------
void play_Draw_Player(void);

//--------------------------------------------------------------------
// 플레이어와 충돌 판정
// 
//--------------------------------------------------------------------
bool play_Is_Hit(int iY, int iX, int iDamage);

//--------------------------------------------------------------------
// 플레이어와 사망
// 
//--------------------------------------------------------------------
bool play_Is_End(void);

//--------------------------------------------------------------------
// 스테이지를 클리어 했는지 실패했는지 확인한다.
// 
//--------------------------------------------------------------------
void play_Is_Stage_Clear(void);






//////////////////////////////////////////////////////////////////////
//   총알
// 
//////////////////////////////////////////////////////////////////////
//--------------------------------------------------------------------
// 총알 배열에 총알을 생성한다.
// 
//--------------------------------------------------------------------
void play_Make_Bullet(void);

//--------------------------------------------------------------------
// 총알의 이동
// 
//--------------------------------------------------------------------
void play_Move_Bullet(void);

//--------------------------------------------------------------------
// 스크린 버퍼에 총알 그리기
// 
//--------------------------------------------------------------------
void play_Draw_Bullet(void);

//--------------------------------------------------------------------
// 플레이어 총알과 적 충돌 확인
// 
//--------------------------------------------------------------------
void play_Bullet_Hit_Enemy(void);


#endif // !__PLAYER_H__
